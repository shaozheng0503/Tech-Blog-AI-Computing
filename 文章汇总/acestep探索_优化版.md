# ACE-Step 音乐生成工具完整使用指南

## 1. 概述

ACE-Step 是一款强大的 AI 音乐生成工具，能够根据歌词和风格标签自动生成音乐。本指南将详细介绍其使用方法、参数设置和优化技巧。

## 2. 歌词/曲风准备

### 2.1 歌词创作模板

为了写好一首歌的歌词，我制作了一个专业的歌词生成模板。当你需要创作歌词时，请提供以下信息：

**核心风格**：具体音乐风格（如：国风、摇滚、爵士、雷鬼等）和风格参考（可列举 1-2 位代表性歌手/乐队，如：周杰伦的中国风、Queen 的摇滚叙事）

**情感基调**：核心情绪（如：治愈、伤感、热血、慵懒等）和情绪层次（如：从压抑到释放、始终温暖舒缓等，可选填）

**主题内容**：核心主题（如：青春回忆、职场压力、自然感悟、爱情遗憾等）和关键意象/场景（如：老槐树、深夜加班的台灯、海边日落等，可选填）

**结构要求**：段落组成（如：主歌 2 段 + 副歌 2 段 + 桥段 1 段）和语言风格（如：口语化、诗意化、叙事性强等）

**节奏提示**：整体节奏（如：轻快流畅、缓慢悠长、强弱交替明显等，可选填）

**质量优化**：避免使用陈词滥调，避免听起来像 AI；保证音节平仄流畅，尾字押韵准确；保证每行歌词的字数适中，无生僻字，适合演唱

**最终输出格式**：`[前奏][主歌][主歌][副歌][副歌][间奏][主歌][主歌][副歌][副歌][桥段][副歌][副歌][尾奏]`

### 2.2 歌曲风格描述提示词模板

我干脆又做了一个提示词模板，帮我来生成歌曲的 Prompt。

**# 歌曲风格描述提示词**

请用 300 字以内、中文、分号分隔的格式，输出可直接喂给 AI 音乐模型的提示词。结构固定：

1. **风格关键词**（2-3 个流派+2-3 个情绪词）
2. **BPM & 调式 & 节拍**（如"105BPM, A minor"，"4/4或3/8拍"）
3. **核心配乐**（主/副乐器 + 质感形容词）
4. **演唱风格**（按演唱风格划分：流行，摇滚，美声，说唱，戏曲等）
5. **性别**（男声、女声）

### 2.3 使用工具准备

**推荐工具：** DeepSeek

**步骤：**
1. 打开 ACE-Step，点击 sample 键（随机采样）
2. 在 Lyrics 处复制所提供的随机歌词
3. 在 Tags 处复制所提供作曲风格、要求
4. 使用 DeepSeek 生成类似歌词/曲风
5. 根据个人喜好审美进行调整

**替代方案：** 直接使用 DeepSeek 生成，甚至自己创作

**注意事项：** 歌词句子尽量不要太长太复杂，否则成果可能会很奇怪

[图片：ACE-Step 界面截图]

## 3. 常规使用

### 3.1 基础参数设置

**Audio Duration** 用于设置歌曲时长，其中 `-1` 为根据歌词长度自动选择时长。**Format** 可选择生成歌曲的音频格式，包括 mp3、ogg、flac、wav 等多种格式。

**Audio-to-Audio Generation** 功能允许勾选 Enable Audio2Audio 上传音频，并在下方选择 Refer audio strength（0-1 数字越大，生成歌曲与音频的相似度越高）。需要注意的是，使用此功能会导致生成歌曲的歌词与上传音频相同，且时长与上传音频一致，有一定的局限性。

### 3.2 高级参数设置

**Lora** 区域可选择"中国说唱"模型，可通过 Lora weight 对模型参数进行微调。**Preset** 用于选择歌曲类别，**Tags** 用于输入描述性标签（音乐流派、歌曲风格、场景描述…）用逗号分隔，也可空着让 ACE-Step 自由发挥。

**Lyrics** 需要输入歌词，需用 `[verse]`、`[chorus]`、`[bridge]` 等结构标签分割不同歌词内容，结构标签自成一段。

[图片：参数设置界面]

### 3.3 生成流程

全部参数调整完后，点击"Generate"生成歌曲！

[图片：生成按钮和进度显示]

## 4. Basic Settings（建议微调甚至不动）

### 4.1 推理步数（Infer Steps）

推理步数的范围值为 1 到 60，主要作用是控制生成过程的迭代次数。当设置较低值（如 1）时，生成速度快，但结果可能不完整或质量低；设置较高值（如 60）时，生成更精细，但计算时间更长。建议在快速测试时可设为 10~20，最终生成时设为 30~60。

### 4.2 全局引导强度（Guidance Scale）

全局引导强度的范围值为 0 到 30，用于控制生成结果与输入条件的匹配强度。当值为 0 时，完全自由生成，忽略条件；当值大于 1 时，强制生成结果贴合条件（数值越大越严格）。特殊规则是当 guidance_scale_lyric 和 guidance_scale_text 均大于 1 时，此参数失效。建议使用值为 15。

### 4.3 文本条件引导强度（Guidance Scale Text）

文本条件引导强度的范围值为 0 到 10，用于单独控制生成结果与文本条件（如主题、关键词）的匹配强度。具体使用可根据个人喜好进行调整。

### 4.4 歌词条件引导强度（Guidance Scale Lyric）

歌词条件引导强度的范围值为 0 到 10，用于单独控制生成结果与歌词条件（如韵律、押韵）的匹配强度。建议在生成诗歌时设为较高值（如 3.0~7.0），确保押韵和节奏。

### 4.5 随机种子（Manual Seeds）

随机种子的作用是固定随机数生成器的种子，确保每次生成结果可复现。相同种子加上相同参数等于完全相同的输出。当设置为 None 或空时，每次生成随机结果。

[图片：Basic Settings 参数界面]

## 5. Advanced Settings

**注意：** 非专业人士不建议随意更改（对应功能见附录）

## 6. 优化与编辑

### 6.1 Retake（重新生成）

Retake 功能通过 variance 调节新生成音频与原音频全曲风格的差异（数值越大差异越大），通过不同种子值重新生成音乐并产生细微变化。

[图片：Retake 功能界面]

### 6.2 Repainting（重绘）

Repainting 功能用于对某一部分音频进行更改，通过设置 Start time 与 End time 选择需编辑区域，其余调整与"retake"一致。

[图片：Repainting 功能界面]

### 6.3 Edit（编辑）

Edit 功能用于对歌词以及作曲风格进行编辑，可选择 only lyrics（只调整歌词旋律不变）或 remix（混音），通过调整编辑参数控制对原曲的保留程度。

[图片：Edit 功能界面]

### 6.4 Extend（扩展）

Extend 功能用于在现有音乐的开头或结尾添加音乐片段，可通过 extend length 调节左右两侧的扩展时长。

[图片：Extend 功能界面]

## 7. 成品展示

**注意：** 暂时无法在飞书文档外展示此内容

## 8. 附录：Advanced Settings 详解

### 8.1 调度器类型（Scheduler Type）

| 选项 | 特点 | 适用场景 |
|------|------|----------|
| euler（推荐） | 计算速度快，质量稳定 | 默认选择，适合大多数情况 |
| heun | 更高阶的数值方法，结果更精确但耗时更长 | 对质量要求极高的场景 |
| pingpong | 基于随机微分方程（SDE）的调度器，可能提升多样性但收敛性较差 | 需要多样性的实验性创作 |

### 8.2 分类器无关引导类型（CFG Type）

| 选项 | 特点 | 说明 |
|------|------|------|
| cfg | 标准分类器无关引导（Classifier-Free Guidance） | 基础版本 |
| apg（推荐） | 自适应引导（Adaptive Guidance），动态调整条件强度，平衡生成质量与多样性 | 推荐使用 |
| cfg_star | 与 cfg 类似，细节优化版本（差异较小） | 轻微改进版本 |

### 8.3 熵修正引导（Entropy Rectifying Guidance）

熵修正引导通过引入温度系数调节注意力权重，弱化条件约束以提升多样性。可应用于标签条件（tag）、歌词编码器的注意力层（lyric）和扩散模型本身的注意力层（diffusion）。效果是避免生成结果过于刻板，适合需要创造性的任务（如诗歌）。

### 8.4 粒度缩放（Granularity Scale）

粒度缩放的范围值为 -100 到 100，用于控制生成结果的细节粒度。当值大于 0 时，减少生成中的伪影（如模糊、断裂），值越大细节越清晰；当值小于 0 时，可能增加艺术化模糊效果（罕见用途）。

### 8.5 引导区间（Guidance Interval）

引导区间的范围值为 0.5，用于限制条件引导的生效时间范围。当值为 0.5 时，仅在中间阶段（0.25 * infer_steps 到 0.75 * infer_steps）应用引导；当值为 1.0 时，全程引导（可能过度约束生成）；当值为 0.0 时，无引导（自由生成）。用途是避免早期/晚期过度拟合条件，提升自然性。

### 8.6 引导强度衰减系数（Guidance Interval Decay）

引导强度衰减系数的范围值为 0.0 到 1.0，用于控制引导强度（如 guidance_scale）在生成过程中的线性衰减。当值为 0.0 时，无衰减，全程保持固定引导强度；当值大于 0.0 时，在指定的 Guidance Interval 区间内，引导强度从 guidance_scale 逐渐衰减到 min_guidance_scale。典型值为 0.5（中等衰减），适合平衡生成的控制力与自由度。

### 8.7 最小引导强度（Min Guidance Scale）

最小引导强度的范围值为 0 到 200（当前示例值：3 到 5），用于设定引导强度衰减的最终值。例如，若 guidance_scale=10，min_guidance_scale=3，衰减后引导强度会从 10 逐步降到 3。当值为 0 时，完全解除条件约束；高值（如大于 5）保留较强条件影响，适合需要严格匹配输入的场景。

### 8.8 优化步骤数（OSS Steps）

优化步骤数理论上是为扩散模型设置的最优去噪步数，可能用于跳过冗余计算。建议目前不建议，保持默认或设为与 Infer Steps 相同。

## 9. 总结

ACE-Step 是一款功能强大的 AI 音乐生成工具，通过合理设置参数和优化技巧，可以生成高质量的音乐作品。建议从基础参数开始，逐步探索高级功能，以获得最佳的音乐生成效果。配合专业的歌词创作模板和风格描述提示词，能够创作出更加优秀的音乐作品。 